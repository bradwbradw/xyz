<div>
  <div class="landing-section">

    <ul layout-wrap layout-align="space-around left" layout="row">
      <li ng-repeat="space in publicSpaces"
          ng-include="'views/partials/space-thumbnail.html'"></li>
    </ul>

  </div>
  <div ng-if="!User.loggedIn()" class="landing-section">

    <h4>Sign up</h4>
    <form ng-submit="clearError(registerData).then(User.register).then(User.login).catch(showError)">

      <input ng-model="registerData.name" placeholder="your name"><br/>
      <input ng-model="registerData.email" placeholder="email" type="email" required><br/>
      <input ng-model="registerData.password" placeholder="set a password" type="password" required><br/>

      <input type="submit" value="submit"/>
    </form>

    <h2>or login:</h2>
    <form ng-submit="login(loginData)">

      <input ng-model="loginData.email" placeholder="email" type="email" required><br/>
      <input ng-model="loginData.password" placeholder="password" type="password" required><br/>

      <input type="submit" value="submit"/>
    </form>

  </div>

  <div ng-if="User.loggedIn()" class="landing-section">

    <br/>

    <div ng-if="!User.hasSpaces()">
      create your first space here:<br/>
    </div>

    <div ng-if="isAdding()">
      <input ng-model="newSpace.name" placeholder="new space name">
      <md-icon class="icon" ng-click="User.addSpace(newSpace).then(resetAdding).catch(showError)">add_circle</md-icon>
    </div>

    <div ng-if="!isAdding()">
      <a ng-click="setAdding()"> + new space</a>
    </div>
    <div ng-show="isAdding()">
      <a ng-click="resetAdding()"> (nevermind)</a>
    </div>

    <h2 ng-if="User.hasOwnSpaces() || User.hasEditableSpaces()">my spaces:</h2>
    <ul class="user-spaces-container" layout-wrap layout-align="space-around left" layout="row">
      <li ng-repeat="space in User.getSpaces().editable"
          ng-include="'views/partials/space-thumbnail.html'" >
      </li>
      <li ng-repeat="space in User.getSpaces().own"
          ng-include="'views/partials/space-thumbnail.html'" >

      </li>
    </ul>


    <br/>

  </div>


  <span ng-if="error">{{error}}</span>
</div>