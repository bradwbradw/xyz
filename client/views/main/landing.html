<h1>xyz</h1>
<h2>
  <a ui-sref='mine'>my xyz</a>
</h2>

<h2 ui-sref='lobby'>"lobby" (tba)</h2>


<div ng-if="!Dj.isAuthenticated()">

  <h2>register:</h2>
<!--  <form ng-submit="Server.registerDj(registerData).then(Server.login).catch(showError)">-->
    <form ng-submit="Dj.create({},registerData,handleRegister,showError)">
<!-- p.DJ.login needs to be moved out because it doesn't take user / pass as parameters -->

    <input ng-model="registerData.email" placeholder="email" type="email" required>
    <input ng-model="registerData.name" placeholder="name">
    <input ng-model="registerData.password" placeholder="password" type="password" required>

    <input type="submit" value="submit"/>
  </form>

  <h2>or login:</h2>
  <form ng-submit="Dj.login({},loginData,noop,showError)">

    <input ng-model="loginData.email" placeholder="email" type="email" required>
    <input ng-model="loginData.password" placeholder="password" type="password" required>

    <input type="submit" value="submit"/>
  </form>

</div>

<div ng-if="Dj.isAuthenticated()">

  Welcome to XYZ: {{Dj.getCurrent() | json}}

  <form ng-submit="Dj.update({},new,noop,showError)">

    <input ng-model="new.name" placeholder="update name">
    <input type="submit" value="update data">

  </form>
<!--
  <ul ng-if="false && DjSpaces.count()">
    <li ng-repeat="space in Dj.spaces()">
      {{space.name}}
    </li>
  </ul>
  <span ng-repeat="space in Dj.spaces()">a space: {space | json} | </span>

  <input ng-model="newSpace.name" placeholder="new space name">
  <button ng-click="Space.create(newSpace)">add new space </button>

  <button ng-click="Dj.logout()">Log out</button>
-->
</div>

<span ng-if="error">{{error}}</span>
